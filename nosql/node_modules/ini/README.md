---
ms.openlocfilehash: 1997c778eb616617ba9d369f6a27828bf83af8b8
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051003"
---
ノードの ini 形式のパーサーとシリアライザー。

セクションは入れ子になったオブジェクトとして扱われます。  最初の見出しの前の項目は、オブジェクトに直接保存されます。

## <a name="usage"></a>使用

次のような ini ファイル `config.ini` について考えてみます。

    ; this comment is being ignored
    scope = global

    [database]
    user = dbuser
    password = dbpassword
    database = use_this_database

    [paths.default]
    datadir = /var/lib/data
    array[] = first value
    array[] = second value
    array[] = third value

次のように、ini ファイルの読み取り、操作、および書き込みを行うことができます。

    var fs = require('fs')
      , ini = require('ini')

    var config = ini.parse(fs.readFileSync('./config.ini', 'utf-8'))

    config.scope = 'local'
    config.database.database = 'use_another_database'
    config.paths.default.tmpdir = '/tmp'
    delete config.paths.default.datadir
    config.paths.default.array.push('fourth value')

    fs.writeFileSync('./config_modified.ini', ini.stringify(config, { section: 'section' }))

これにより、`config_modified.ini` というファイルが次の内容でファイルシステムに書き込まれます。

    [section]
    scope=local
    [section.database]
    user=dbuser
    password=dbpassword
    database=use_another_database
    [section.paths.default]
    tmpdir=/tmp
    array[]=first value
    array[]=second value
    array[]=third value
    array[]=fourth value


## <a name="api"></a>API

### <a name="decodeinistring"></a>decode(inistring)

ini スタイルで書式設定された `inistring` を入れ子になったオブジェクトにデコードします。

### <a name="parseinistring"></a>parse(inistring)

`decode(inistring)` のエイリアス

### <a name="encodeobject-options"></a>encode(object, [options])

オブジェクト `object` を ini スタイルで書式設定された文字列にエンコードします。 省略可能なパラメーター `section` が指定されている場合、オブジェクトのすべての最上位のプロパティがこのセクションに配置され、`section`-string がすべてのサブセクションの前に追加されます。上記の使用例を参照してください。

`options` オブジェクトには、次のものが含まれる場合があります。

* `section` エンコードされた ini データの最初の `section` になる文字列。  既定値は none (なし) です。
* `whitespace` `=` 文字の前後に空白を置くかどうかを指定するブール値。  既定では、空白文字が許容されない一部の旧式の厄介なパーサーに対応するため、空白文字は省略されています。  しかし、一部では、空白を使用した方が人間が読みやすく、きれいだと考えられています。

下位互換性の理由から、`string` オプションが渡された場合、それは `section` 値であると見なされます。

### <a name="stringifyobject-options"></a>stringify(object, [options])

`encode(object, [options])` のエイリアス

### <a name="safeval"></a>safe(val)

文字列 `val` をエスケープして、ini ファイルでキーまたは値として安全に使用できるようにします。 基本的に引用符をエスケープします。 次に例を示します。

    ini.safe('"unsafe string"')

結果は次のようになります

    "\"unsafe string\""

### <a name="unsafeval"></a>unsafe(val)

文字列 `val` をエスケープ解除します
