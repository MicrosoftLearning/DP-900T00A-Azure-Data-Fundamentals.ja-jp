---
ms.openlocfilehash: a99dd16ee6283131f11f543fc7caf0badb805d7a
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052555"
---
# <a name="pump"></a>pump

pump は、複数のストリームをまとめて pipe し、そのうちの 1 つが閉じるとすべてを破棄するという、小さなノード モジュールです。

```
npm install pump
```

[![ビルドの状況](http://img.shields.io/travis/mafintosh/pump.svg?style=flat)](http://travis-ci.org/mafintosh/pump)

## <a name="what-problem-does-it-solve"></a>解決される問題

標準的な `source.pipe(dest)` を使用する場合、dest によって close またはエラーが出力されても、ソースが破棄されることは "_ありません_"。
また、pipe が終了したタイミングを通知するためのコールバックを指定することもできません。

pump を使用すると、次の 2 つのことが実行されます

## <a name="usage"></a>使用

まとめて pipe して pump するストリームを単に渡し、オプションのコールバックを追加します

``` js
var pump = require('pump')
var fs = require('fs')

var source = fs.createReadStream('/dev/random')
var dest = fs.createWriteStream('/dev/null')

pump(source, dest, function(err) {
  console.log('pipe finished', err)
})

setTimeout(function() {
  dest.destroy() // when dest is closed pump will destroy source
}, 1000)
```

2 つより多くのストリームを pipe するために、pump を使用することもできます

``` js
var transform = someTransformStream()

pump(source, transform, anotherTransform, dest, function(err) {
  console.log('pipe finished', err)
})
```

`source`、`transform`、`anotherTransform`、または `dest` が close すると、これらがすべて破棄されます。

`stream.pipe()` と同様に、`pump()` は、最後に渡されたストリームを返します。そのため、次の操作を実行することができます。

```
return pump(s1, s2) // returns s2
```

s1 と s2 の "*両方*" を 1 つのストリームに結合するストリームを返す場合は、代わりに [pumpify](https://github.com/mafintosh/pumpify) を使用します。

## <a name="license"></a>ライセンス

MIT

## <a name="related"></a>関連項目

`pump` は、[mississippi stream utility collection](https://github.com/maxogden/mississippi) の一部であり、ここには、これに類似した、便利なストリーム モジュールが含まれています。
