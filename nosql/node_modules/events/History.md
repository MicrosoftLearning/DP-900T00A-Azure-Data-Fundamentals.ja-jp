---
ms.openlocfilehash: 8b4ed56af0f1d54d33250b29374a3f0e13dcce33
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2022
ms.locfileid: "145884349"
---
# <a name="330"></a>3.3.0

 - Node.js 12.11.0 から `events.once` で EventTarget エミッターをサポートしました。

   EventTarget インターフェイスを実装したオブジェクトで `events.once` 関数を使用できるようになりました。 このインターフェイスは、DOM や他の Web API で広く使われています。

   ```js
   var events = require('events');
   var assert = require('assert');

   async function connect() {
     var ws = new WebSocket('wss://example.com');
     await events.once(ws, 'open');
     assert(ws.readyState === WebSocket.OPEN);
   }

   async function onClick() {
     await events.once(document.body, 'click');
     alert('you clicked the page!');
   }
   ```

# <a name="320"></a>3.2.0

 - Node.js 11.13.0 から `events.once` を追加しました。

   この関数を使うには、Promises がサポートされている環境である必要があります。 古いブラウザーをサポートする場合は、`es6-promise` のようなポリフィルを使います。

# <a name="310-2020-01-08"></a>3.1.0 (2020-01-08)

`events` は Node.js 11.12.0 API と一致するようになりました。

  - ラップされた `emitter.once()` リスナーで戻り値をパススルーします

    以下が機能するようになりました。
    ```js
    emitter.once('myevent', function () { return 1; });
    var listener = emitter.rawListeners('myevent')[0]
    assert(listener() === 1);
    ```
    以前は、実装に関係なく、`listener()` から未定義が返されていました。

    https://github.com/nodejs/node/commit/acc506c2d2771dab8d7bba6d3452bc5180dff7cf から移植しました

  - リスナーの種類チェックでコードの重複を減らしました ([@friederbluemle](https://github.com/friederbluemle) による [#67](https://github.com/Gozala/events/pull/67))。
  - 一部のエンジンで `emitter.once()` のパフォーマンスを改善しました

# <a name="300-2018-05-25"></a>3.0.0 (2018-05-25)

**このバージョンで IE8 のサポートをドロップしました** `events` は、ES5 機能に対するポリフィルを含めなくなりました。 古い環境をサポートする必要がある場合は、[es5-shim](https://npmjs.com/package/es5-shim) のような ES5 shim を使ってください。 es5-shim の shim と sham の両バージョンが必要です。

  - Node.js 10.x からイベント コードを更新しました
    - (semver major) `off()` メソッドを追加しました
  - Node.js からさらにテストを移植しました
  - ブラウザー テストを airtap に切り替え、信頼性の高めました

# <a name="210-2018-05-25"></a>2.1.0 (2018-05-25)

  - Node.js v9.4 から Emitter#rawListeners を追加しました

# <a name="200-2018-02-02"></a>2.0.0 (2018-02-02)

  - node.js 8.x からイベント コードを更新しました
    - `prependListener()` と `prependOnceListener()` を追加しました
    - `eventNames()` メソッドを追加しました
    - (semver major) `listeners()` 内の `once()` リスナーの折り返しを解除しました
  - node.js からテストをコピーしました

このバージョンでは、新しいメソッドとランタイムのパフォーマンスを改善するため、gzip のサイズが 1.1KB から 2.1KB に倍増したことに注意してください。 アップグレードするときは気を付けてください。

# <a name="111-2016-06-22"></a>1.1.1 (2016-06-22)

  - instanceof Error でない場合のエラーに、さらにコンテキストを追加しました

# <a name="110-2015-09-29"></a>1.1.0 (2015-09-29)

  - Emitter#listerCount を追加しました (node v4 api に合わせるため)

# <a name="102-2014-08-28"></a>1.0.2 (2014-08-28)

  - 到達不能なコードを削除しました
  - devDeps を更新しました

## <a name="101--2014-05-11"></a>1.0.1 / 2014-05-11

  - console.trace を使う前に確認するようにしました

## <a name="100--2013-12-10"></a>1.0.0 / 2013-12-10

  - node.js 0.10 から最新のイベント コードを更新しました
  - node.js からテストをコピーしました

## <a name="040--2011-07-03"></a>0.4.0 / 2011-07-03 ##

  - graphquire@0.8.0 への切り替え

## <a name="030--2011-07-03"></a>0.3.0 / 2011-07-03 ##

  - URL ベースのモジュールへの切り替えが必要になりました。

## <a name="020--2011-06-10"></a>0.2.0 / 2011-06-10 ##

  - パッケージ構造を簡略化しました。
  - 依存関係管理のための Graphquire。

## <a name="011--2011-05-16"></a>0.1.1 / 2011-05-16 ##

  - 未処理のエラーは console.error を介してログに記録されるようになりました

## <a name="010--2011-04-22"></a>0.1.0 / 2011-04-22 ##

  - 最初のリリース
