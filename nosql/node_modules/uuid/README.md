---
ms.openlocfilehash: c6dc9b216d8255c51f2dc575a7c59dce25deff9e
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2022
ms.locfileid: "138051066"
---
<!--
  -- This file is auto-generated from README_js.md. Changes should be made there.
  -->

# <a name="uuid-cihttpsgithubcomuuidjsuuidactionsqueryworkflow3aci-browserhttpsgithubcomuuidjsuuidactionsqueryworkflow3abrowser"></a>uuid [![CI](https://github.com/uuidjs/uuid/workflows/CI/badge.svg)](https://github.com/uuidjs/uuid/actions?query=workflow%3ACI) [![ブラウザー](https://github.com/uuidjs/uuid/workflows/Browser/badge.svg)](https://github.com/uuidjs/uuid/actions?query=workflow%3ABrowser)

[RFC4122](http://www.ietf.org/rfc/rfc4122.txt) の UUID の作成用

- **完全** - RFC4122 バージョン 1、3、4、5 の UUID のサポート
- **クロスプラットフォーム** - サポート対象 ...
  - CommonJS、[ECMAScript モジュール](#ecmascript-modules)、[CDN ビルド](#cdn-builds)
  - ノード 8、10、12、14
  - Chrome、Safari、Firefox、Edge、IE 11 ブラウザー
  - webpack および rollup.js モジュール バンドラー
  - [React Native と Expo](#react-native--expo)
- **セキュリティ保護** - 暗号的に強力なランダム値
- **小さい** - 依存性なし、小さなフットプリント、パッケージの "tree shaking" の際に効果的
- **CLI** - [`uuid` コマンド ライン](#command-line) ユーティリティを含む

**`uuid@3.x` からアップロードする場合:** コードはおそらく問題ありませんが、詳細については「[`uuid@3.x` からのアップグレード](#upgrading-from-uuid3x)」を参照してください。

## <a name="quickstart"></a>クイックスタート

ランダムな UUID を作成するには...

"**1.インストールする**

```shell
npm install uuid
```

**2. UUID を作成する** (ES6 モジュール構文)

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4(); // ⇨ '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'
```

... または CommonJS 構文を使用する:

```javascript
const { v4: uuidv4 } = require('uuid');
uuidv4(); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
```

タイムスタンプ UUID、名前空間 UUID、その他のオプションについては、以下を参照してください。

## <a name="api-summary"></a>API の概要

|  |  |  |
| --- | --- | --- |
| [`uuid.NIL`](#uuidnil) | nil UUID 文字列 (すべてゼロ) | `uuid@8.3` の新機能  |
| [`uuid.parse()`](#uuidparsestr) | UUID 文字列をバイト配列に変換する | `uuid@8.3` の新機能  |
| [`uuid.stringify()`](#uuidstringifyarr-offset) | バイト配列を UUID 文字列に変換する | `uuid@8.3` の新機能  |
| [`uuid.v1()`](#uuidv1options-buffer-offset) | バージョン 1 (タイムスタンプ) UUID を作成する |  |
| [`uuid.v3()`](#uuidv3name-namespace-buffer-offset) | バージョン 3 (MD5 を含む名前空間) UUID を作成する |  |
| [`uuid.v4()`](#uuidv4options-buffer-offset) | バージョン 4 (ランダム) UUID を作成する |  |
| [`uuid.v5()`](#uuidv5name-namespace-buffer-offset) | バージョン 5 (SHA-1 を含む名前空間) UUID を作成する |  |
| [`uuid.validate()`](#uuidvalidatestr) | 文字列をテストして有効な UUID かどうかを確認する | `uuid@8.3` の新機能  |
| [`uuid.version()`](#uuidversionstr) | UUID の RFC バージョンを検出する | `uuid@8.3` の新機能  |

## <a name="api"></a>API

### <a name="uuidnil"></a>uuid.NIL

nil UUID 文字列 (すべてゼロ)。

例:

```javascript
import { NIL as NIL_UUID } from 'uuid';

NIL_UUID; // ⇨ '00000000-0000-0000-0000-000000000000'
```

### <a name="uuidparsestr"></a>uuid.parse(str)

UUID 文字列をバイト配列に変換する

|           |                                          |
| --------- | ---------------------------------------- |
| `str`     | 有効な UUID である `String`                    |
| _"戻り値"_ | `Uint8Array[16]`                         |
| _"例外"_  | `str` が有効な UUID でない場合は、`TypeError` |

注: `parse()` と `stringify()` で使用されるバイト配列内での値の順序は、UUID 文字列内での 16 進ペアの左 &Rarr; 右の順序に従います。 これを次の例で示します。

例:

```javascript
import { parse as uuidParse } from 'uuid';

// Parse a UUID
const bytes = uuidParse('6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b');

// Convert to hex strings to show byte order (for documentation purposes)
[...bytes].map((v) => v.toString(16).padStart(2, '0')); // ⇨ 
  // [
  //   '6e', 'c0', 'bd', '7f',
  //   '11', 'c0', '43', 'da',
  //   '97', '5e', '2a', '8a',
  //   'd9', 'eb', 'ae', '0b'
  // ]
```

### <a name="uuidstringifyarr-offset"></a>uuid.stringify(arr[, offset])

バイト配列を UUID 文字列に変換する

|                |                                                                              |
| -------------- | ---------------------------------------------------------------------------- |
| `arr`          | `Array` に似た、0 - 255 の 16 個の値からなるコレクション (`offset` から始まる)。 |
| [`offset` = 0] | 配列の開始インデックスである `Number`                                         |
| _"戻り値"_      | `String`                                                                     |
| _"例外"_       | 有効な UUID 文字列を生成できない場合は、`TypeError`                       |

注: `parse()` と `stringify()` で使用されるバイト配列内での値の順序は、UUID 文字列内での 16 進ペアの左 &Rarr; 右の順序に従います。 これを次の例で示します。

例:

```javascript
import { stringify as uuidStringify } from 'uuid';

const uuidBytes = [
  0x6e,
  0xc0,
  0xbd,
  0x7f,
  0x11,
  0xc0,
  0x43,
  0xda,
  0x97,
  0x5e,
  0x2a,
  0x8a,
  0xd9,
  0xeb,
  0xae,
  0x0b,
];

uuidStringify(uuidBytes); // ⇨ '6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b'
```

### <a name="uuidv1options-buffer-offset"></a>uuid.v1([options[, buffer[, offset]]])

RFC バージョン 1 (タイムスタンプ) UUID を作成する

|  |  |
| --- | --- |
| [`options`] | 以下の 1 つ以上のプロパティを持つ `Object` |
| [`options.node` ] | バイト値の `Array[6]` としての RFC "ノード" フィールド (4.1.6 のとおり) |
| [`options.clockseq`] | 0 - 0x3fff の `Number` としての RFC "クロック シーケンス" |
| [`options.msecs`] | RFC "タイムスタンプ" フィールド (`Number` ミリ秒、unix エポック) |
| [`options.nsecs`] | RFC "タイムスタンプ" フィールド (`msecs` に追加するナノ秒数である `Number` で、0 - 10,000 にする必要があります) |
| [`options.random`] | 16 個のランダム バイト (0 - 255) の `Array` |
| [`options.rng`] | `options.random` の代わりの `Function` であり、16 個のランダム バイト (0 - 255) の `Array` を返します |
| [`buffer`] | `Array \| Buffer` です。指定した場合、uuid は `offset` を開始位置としてバイト形式でここに書き込まれます |
| [`offset` = 0] | `Number` です。`buffer` に UUID バイトの書き込みを開始するインデックス |
| _"戻り値"_ | `buffer` が指定されていない場合は UUID `String`、それ以外の場合は `buffer` を返します |
| _"例外"_ | 1 秒あたりに 1 千万個を超える UUID が要求された場合は、`Error` |

注: 既定の[ノード ID](https://tools.ietf.org/html/rfc4122#section-4.1.6) (UUID の末尾 12 桁) は、プロセスの開始時にランダムに 1 回生成され、プロセスの継続中は変更されません。

注: `options.random` と `options.rng` は、`v1()` の最初の呼び出し時にのみ意味を持ち、内部フィールド `node` および `clockseq` を初期化するために渡される可能性があります。

例:

```javascript
import { v1 as uuidv1 } from 'uuid';

uuidv1(); // ⇨ '2c5ea4c0-4067-11e9-8bad-9b1deb4d3b7d'
```

`options` の使用例:

```javascript
import { v1 as uuidv1 } from 'uuid';

const v1options = {
  node: [0x01, 0x23, 0x45, 0x67, 0x89, 0xab],
  clockseq: 0x1234,
  msecs: new Date('2011-11-01').getTime(),
  nsecs: 5678,
};
uuidv1(v1options); // ⇨ '710b962e-041c-11e1-9234-0123456789ab'
```

### <a name="uuidv3name-namespace-buffer-offset"></a>uuid.v3(name, namespace[, buffer[, offset]])

RFC バージョン 3 (MD5 を含む名前空間) UUID を作成する

API は `v5()` と同じですが、代わりに "v3" を使用します。

&#x26a0;&#xfe0f; 注: RFC に従って、"_下位互換性が問題でない場合は、SHA-1 [バージョン 5] が推奨されます_。"

### <a name="uuidv4options-buffer-offset"></a>uuid.v4([options[, buffer[, offset]]])

RFC バージョン 4 (ランダム) UUID を作成する

|  |  |
| --- | --- |
| [`options`] | 以下の 1 つ以上のプロパティを持つ `Object` |
| [`options.random`] | 16 個のランダム バイト (0 - 255) の `Array` |
| [`options.rng`] | `options.random` の代わりの `Function` であり、16 個のランダム バイト (0 - 255) の `Array` を返します |
| [`buffer`] | `Array \| Buffer` です。指定した場合、uuid は `offset` を開始位置としてバイト形式でここに書き込まれます |
| [`offset` = 0] | `Number` です。`buffer` に UUID バイトの書き込みを開始するインデックス |
| _"戻り値"_ | `buffer` が指定されていない場合は UUID `String`、それ以外の場合は `buffer` を返します |

例:

```javascript
import { v4 as uuidv4 } from 'uuid';

uuidv4(); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
```

事前定義された `random` 値の使用例:

```javascript
import { v4 as uuidv4 } from 'uuid';

const v4options = {
  random: [
    0x10,
    0x91,
    0x56,
    0xbe,
    0xc4,
    0xfb,
    0xc1,
    0xea,
    0x71,
    0xb4,
    0xef,
    0xe1,
    0x67,
    0x1c,
    0x58,
    0x36,
  ],
};
uuidv4(v4options); // ⇨ '109156be-c4fb-41ea-b1b4-efe1671c5836'
```

### <a name="uuidv5name-namespace-buffer-offset"></a>uuid.v5(name, namespace[, buffer[, offset]])

RFC バージョン 5 (SHA-1 を含む名前空間) UUID を作成する

|  |  |
| --- | --- |
| `name` | `String \| Array` |
| `namespace` | 名前空間 UUID である `String \| Array[16]` |
| [`buffer`] | `Array \| Buffer` です。指定した場合、uuid は `offset` を開始位置としてバイト形式でここに書き込まれます |
| [`offset` = 0] | `Number` です。`buffer` に UUID バイトの書き込みを開始するインデックス |
| _"戻り値"_ | `buffer` が指定されていない場合は UUID `String`、それ以外の場合は `buffer` を返します |

注: RFC の `DNS` および `URL` 名前空間は、`v5.DNS` および `v5.URL` として使用できます。

カスタム名前空間での例:

```javascript
import { v5 as uuidv5 } from 'uuid';

// Define a custom namespace.  Readers, create your own using something like
// https://www.uuidgenerator.net/
const MY_NAMESPACE = '1b671a64-40d5-491e-99b0-da01ff1f3341';

uuidv5('Hello, World!', MY_NAMESPACE); // ⇨ '630eb68f-e0fa-5ecc-887a-7c7a62614681'
```

RFC `URL` 名前空間での例:

```javascript
import { v5 as uuidv5 } from 'uuid';

uuidv5('https://www.w3.org/', uuidv5.URL); // ⇨ 'c106a26a-21bb-5538-8bf2-57095d1976c1'
```

### <a name="uuidvalidatestr"></a>uuid.validate(str)

文字列をテストして有効な UUID かどうかを確認する

|           |                                                     |
| --------- | --------------------------------------------------- |
| `str`     | 検証する対象の `String`                                |
| _"戻り値"_ | 文字列が有効な UUID の場合は `true`、それ以外の場合は `false` |

例:

```javascript
import { validate as uuidValidate } from 'uuid';

uuidValidate('not a UUID'); // ⇨ false
uuidValidate('6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b'); // ⇨ true
```

`validate` と `version` を一緒に使用すると、バージョンごとの検証を行うことが可能であり、たとえば v4 UUID のみを検証できます。

```javascript
import { version as uuidVersion } from 'uuid';
import { validate as uuidValidate } from 'uuid';

function uuidValidateV4(uuid) {
  return uuidValidate(uuid) && uuidVersion(uuid) === 4;
}

const v1Uuid = 'd9428888-122b-11e1-b85c-61cd3cbb3210';
const v4Uuid = '109156be-c4fb-41ea-b1b4-efe1671c5836';

uuidValidateV4(v4Uuid); // ⇨ true
uuidValidateV4(v1Uuid); // ⇨ false
```

### <a name="uuidversionstr"></a>uuid.version(str)

UUID の RFC バージョンを検出する

|           |                                          |
| --------- | ---------------------------------------- |
| `str`     | 有効な UUID である `String`                    |
| _"戻り値"_ | UUID の RFC バージョンである `Number`     |
| _"例外"_  | `str` が有効な UUID でない場合は、`TypeError` |

例:

```javascript
import { version as uuidVersion } from 'uuid';

uuidVersion('45637ec4-c85f-11ea-87d0-0242ac130003'); // ⇨ 1
uuidVersion('6ec0bd7f-11c0-43da-975e-2a8ad9ebae0b'); // ⇨ 4
```

## <a name="command-line"></a>コマンド ライン

UUID は、コマンド ラインから `uuid` を使用して生成できます。

```shell
$ uuid
ddeb27fb-d9a0-4624-be4d-4615062daed4
```

既定ではバージョン 4 の UUID が生成されますが、他のバージョンもサポートされています。 詳細については、「`uuid --help`」と入力してください。

```shell
$ uuid --help

Usage:
  uuid
  uuid v1
  uuid v3 <name> <namespace uuid>
  uuid v4
  uuid v5 <name> <namespace uuid>
  uuid --help

Note: <namespace uuid> may be "URL" or "DNS" to use the corresponding UUIDs
defined by RFC4122
```

## <a name="ecmascript-modules"></a>ECMAScript モジュール

このライブラリには、それをサポートする Node.js バージョン ([例](./examples/node-esmodules/)) に対する [ECMAScript モジュール](https://www.ecma-international.org/ecma-262/6.0/#sec-modules) (ESM) のサポートのほか、[rollup.js](https://rollupjs.org/guide/en/#tree-shaking) ([例](./examples/browser-rollup/)) や [webpack](https://webpack.js.org/guides/tree-shaking/) ([例](./examples/browser-webpack/)) などのバンドラー (Node.js とブラウザー環境の両方を対象とする) が付属しています。

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4(); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
```

例を実行するには、まず、モジュールのルートにこのライブラリの dist ビルドを作成する必要があります。

```shell
npm run build
```

## <a name="cdn-builds"></a>CDN ビルド

### <a name="ecmascript-modules"></a>ECMAScript モジュール

[ECMAScript モジュールの読み込みをサポート](https://caniuse.com/#feat=es6-module)する最新のブラウザーにこのモジュールを直接読み込むには、[jspm](https://jspm.org/) を使用できます。

```html
<script type="module">
  import { v4 as uuidv4 } from 'https://jspm.dev/uuid';
  console.log(uuidv4()); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'
</script>
```

### <a name="umd"></a>UMD

このモジュールを以前のブラウザーに直接読み込むには、次のいずれかの CDN から [UMD (ユニバーサル モジュール定義)](https://github.com/umdjs/umd) ビルドを使用できます。

**[UNPKG](https://unpkg.com/uuid@latest/dist/umd/)** を使用する:

```html
<script src="https://unpkg.com/uuid@latest/dist/umd/uuidv4.min.js"></script>
```

**[jsDelivr](https://cdn.jsdelivr.net/npm/uuid@latest/dist/umd/)** を使用する:

```html
<script src="https://cdn.jsdelivr.net/npm/uuid@latest/dist/umd/uuidv4.min.js"></script>
```

**[cdnjs](https://cdnjs.com/libraries/uuid)** を使用する:

```html
<script src="https://cdnjs.cloudflare.com/ajax/libs/uuid/8.1.0/uuidv4.min.js"></script>
```

これらすべての CDN で、同じ [`uuidv4()`](#uuidv4options-buffer-offset) メソッドが提供されます。

```html
<script>
  uuidv4(); // ⇨ '55af1e37-0734-46d8-b070-a1e42e4fc392'
</script>
```

他のアルゴリズム ([`uuidv1()`](#uuidv1options-buffer-offset)、[`uuidv3()`](#uuidv3name-namespace-buffer-offset)、[`uuidv5()`](#uuidv5name-namespace-buffer-offset)) は、それぞれ `uuidv1.min.js`、`uuidv3.min.js`、`uuidv5.min.js` ファイルから使用できます。

## <a name="getrandomvalues-not-supported"></a>"getRandomValues() はサポートされていません"

このエラーは、標準 [`crypto.getRandomValues()`](https://developer.mozilla.org/en-US/docs/Web/API/Crypto/getRandomValues) API がサポートされていない環境で発生します。 この問題は、適切なポリフィルを追加することで解決できます。

### <a name="react-native--expo"></a>React Native と Expo

1. [`react-native-get-random-values`](https://github.com/LinusU/react-native-get-random-values#readme) をインストールします
1. `uuid` よりも _前に_ インポートします。 `uuid` は他のインポートの推移的な依存関係としても表示される可能性があるため、`react-native-get-random-values` をエントリ ポイントで最初にインポートするのが最も安全です。

```javascript
import 'react-native-get-random-values';
import { v4 as uuidv4 } from 'uuid';
```

注: Expo を使用している場合は、少なくとも `react-native-get-random-values@1.5.0` と `expo@39.0.0` を使用している必要があります。

### <a name="web-workers--service-workers-edge--18"></a>Web worker とサービス ワーカー (Edge <= 18)

[Edge <= 18 の場合、Web Crypto は Web worker またはサービス ワーカーではサポートされておらず](https://caniuse.com/#feat=cryptography)、ポリフィルを確認していません (見つけた場合は、お知らせください)。

## <a name="upgrading-from-uuid7x"></a>`uuid@7.x` からのアップグレード

### <a name="only-named-exports-supported-when-using-with-nodejs-esm"></a>Node.js ESM で使用する場合、名前付きエクスポートのみがサポートされる

`uuid@7.x` には、Node.js のネイティブ ECMAScript モジュール (ESM) サポートが付属していません。 その結果、Node.js ESM にインポートすると、CommonJS ソースが既定のエクスポートでインポートされていました。 このライブラリには、真の Node.js ESM サポートが付属しており、名前付きエクスポートのみが提供されます。

次のようにするのではなく:

```javascript
import uuid from 'uuid';
uuid.v4();
```

名前付きエクスポートを使用する必要があります。

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4();
```

### <a name="deep-requires-no-longer-supported"></a>deep requires はサポートされなくなりました

[`uuid@7.x` で非推奨になった](#deep-requires-now-deprecated) `require('uuid/v4')` などの deep requires は、サポートされなくなりました。

## <a name="upgrading-from-uuid3x"></a>`uuid@3.x` からのアップグレード

_待ってください... `uuid@4.x` - `uuid@6.x` はどうなりましたか?!?_

RFC [バージョン 4](#uuidv4options-buffer-offset) および [バージョン 5](#uuidv5name-namespace-buffer-offset) の UUID と、可能性のある [バージョン 6](http://gh.peabody.io/uuidv6/) の混乱を避けるために、このモジュールのリリース 4 から 6 はスキップされています。

### <a name="deep-requires-now-deprecated"></a>deeep requires は非推奨になりました

`uuid@3.x` では、ブラウザー ビルドのバンドル サイズを最小限に抑えるために、deep requires を使用することが推奨されていました。

```javascript
const uuidv4 = require('uuid/v4'); // <== NOW DEPRECATED!
uuidv4();
```

`uuid@7.x` において、このライブラリで ECMAScript モジュール ビルドが提供されるようになり、Webpack や Rollup などのパッケージャーで "tree-shaking" を実行して、不要なコードを削除できるようになりました。 代わりに、`import` 構文を使用します。

```javascript
import { v4 as uuidv4 } from 'uuid';
uuidv4();
```

.. .または CommonJS の場合:

```javascript
const { v4: uuidv4 } = require('uuid');
uuidv4();
```

### <a name="default-export-removed"></a>既定のエクスポートが削除されました

`uuid@3.x` は、既定のエクスポートとしてバージョン 4 の UUID メソッドをエクスポートしていました。

```javascript
const uuid = require('uuid'); // <== REMOVED!
```

この使用パターンは `uuid@3.x` で既に非推奨となっており、`uuid@7.x` で削除されました。

----
[![RunMD ロゴ](http://i.imgur.com/h0FVyzU.png)](https://github.com/broofa/runmd)によって [README_js.md](README_js.md) から生成されたマークダウン