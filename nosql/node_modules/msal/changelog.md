---
ms.openlocfilehash: 0563a22e7096a747f9c30d0538ada45fe5876743
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2022
ms.locfileid: "145884337"
---
# <a name="change-log---msal"></a>変更ログ - msal

このログの最終生成日時は 2021 年 7 月 22 日 22:50:22 GMT です。手動で変更しないでください。

<!-- Start content -->

## <a name="1412"></a>1.4.12

2021 年 7 月 22 日 (木) 22:50:22 GMT

### <a name="patches"></a>修正プログラム

- acquireTokenSilent がハングし、戻らない原因となっていたバグを修正しました #3867 (thomas.norling@microsoft.com)

## <a name="1411"></a>1.4.11

2021 年 5 月 12 日 (水) 18:35:03 GMT

### <a name="patches"></a>修正プログラム

- msal-core のブラウザー履歴から idtoken ハッシュを削除しました #3587 (hemoral@microsoft.com)

## <a name="1410"></a>1.4.10

2021 年 4 月 22 日 (木) 23:26:08 GMT

### <a name="patches"></a>修正プログラム

- MSAL.js v1 によって設定される Cookie 内の制御文字をエンコードするようにしました #3469 (janutter@microsoft.com)
- .browserslistrc を追加しました #3471 (thomas.norling@microsoft.com)

## <a name="149"></a>1.4.9

2021 年 3 月 31 日 (水) 22:25:57 GMT

### <a name="patches"></a>修正プログラム

- /consumers 権限のトークン キャッシュを修正しました #3327 (thomas.norling@microsoft.com)

## <a name="148"></a>1.4.8

2021 年 3 月 15 日 (月) 23:45:17 GMT

### <a name="patches"></a>修正プログラム

- 異なる clientId に対してトークンを移行しないようにしました #3188 (thomas.norling@microsoft.com)

## <a name="147"></a>1.4.7

2021 年 3 月 3 日 (水) 21:47:05 GMT

### <a name="patches"></a>修正プログラム

- リクエストに応じて lib バージョンを修正しました (#3080) (thomas.norling@microsoft.com)

## <a name="146"></a>1.4.6

2021 年 2 月 9 日 (火) 01:48:22 GMT

### <a name="patches"></a>修正プログラム

- version.json のインポート エラーを修正しました (#2993) (thomas.norling@microsoft.com)

## <a name="145"></a>1.4.5

2021 年 2 月 2 日 (火) 01:56:47 GMT

### <a name="patches"></a>修正プログラム

- version.json からパッケージのバージョンを取得するようにしました (#2915) (thomas.norling@microsoft.com)

## <a name="144"></a>1.4.4

2020 年 11 月 11 日 (水) 23:33:20 GMT

### <a name="patches"></a>修正プログラム

- 複数の一致するトークンのエラーを修正しました (#2582) (thomas.norling@microsoft.com)

## <a name="143"></a>1.4.3

2020 年 10 月 29 日 (木) 20:36:48 GMT

### <a name="patches"></a>修正プログラム

- JSON ではないキャッシュ キーを無視するように ID トークンのマッチング ロジックを修正しました (#2510) (hemoral@microsoft.com)
- history.replaceState が関数であることを確認しました (janutter@microsoft.com)

## <a name="142"></a>1.4.2

2020 年 10 月 20 日 (火) 23:47:28 GMT

### <a name="patches"></a>修正プログラム

- acquireTokenSilent を同時に呼び出すと acquireTokenPopup に使われるウィンドウが閉じる問題を修正しました (#2355) (hemoral@microsoft.com)
- 履歴 API を使ってハッシュをクリアし、# 記号を削除しました (janutter@microsoft.com)
- ID トークンのキャッシュとキャッシュの検索に関する問題を修正しました (#2376) (hemoral@microsoft.com)

## <a name="141"></a>1.4.1

2020 年 9 月 30 日 (水) 17:58:33 GMT

### <a name="patches"></a>修正プログラム

- ID トークン キャッシュの検索を修正しました。 PR #2206 (hemoral@microsoft.com)

## <a name="140"></a>1.4.0

2020 年 8 月 25 日 (火) 00:40:45 GMT

### <a name="minor-changes"></a>細かい変更が行われました。

- B2C 複数ポリシーのサポート (#1757) (thomas.norling@microsoft.com)
- ADFS 2019 のサポート (#1668) (thomas.l.norling@gmail.com)
- response_type の決定方法を再定義することで、OIDC スコープを使った acquireToken API の呼び出しでの idToken の取得を有効にしました。 (PR #2022) (hemoral@microsoft.com)

# <a name="134"></a>1.3.4

## <a name="bugs"></a>バグ
* 小文字のスコープの問題を修正しました (#1945)
* リダイレクト エラー コールバックを修正しました (#1942)
* replaceTenantPath の /organizations をテナント ID に置き換えました (#1974)
* 共通権限を指定した場合のキャッシュ ミスを修正しました (#2015)
* 戻るボタンの動作を修正しました (#2081)

# <a name="133"></a>1.3.3

##  <a name="enhancements"></a>機能強化
* サイレント要求のタイムアウトを確保するために monitorIframeForHash を追加しました。 (#1823)
* 信頼されたホストに対してインスタンス検出を使い、権限クラスを組み合わせるようにしました。 ([#1583](https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/1583)
* カスタム権限の検索を追加しました。 (#1836)
* Cookie を最小限のサイズにし、必要に応じて削除するようにしました。 (#1829)
* ログの機能強化。 (#1777、#1767、#1752)

# <a name="132"></a>1.3.2

## <a name="bugs"></a>バグ
* クエリ パラメーターをデコードする際に、プラス記号を 2 回削除しないようにしました。 (#1746)
* ポップアップの about:blank エラーを修正しました。 (#1667)
* acquireTokenRedirect の処理とリダイレクトを修正しました。 (#1758)

## <a name="enhancements"></a>機能強化
* タイムアウト エラー メッセージから URL を削除し、errorPii ロガーに移動しました。 (#1686)
* onRedirectNavigate コールバックを追加し、ナビゲーションを停止してリダイレクト URL を取得するようにしました。 (#1691)
* OpenID 構成のために、アプリケーションがネットワーク要求をバイパスできるようにしました。 (#1578)
* acquireTokenSilent インストルメンテーションを拡張しました。 (#1629)
* TelemetryManager イベントにパフォーマンス インストルメンテーションを追加しました。 (#1643) 

# <a name="131"></a>1.3.1

## <a name="bugs"></a>バグ

* ブラウザーの履歴に不要なエントリを追加しないようにしました。 (#1577)
* 非表示の iframe に aria-hidden を追加しました。 (#1581)
* クエリ文字列を含むリダイレクト URI の回帰を修正しました。 (#1604)

# <a name="130"></a>1.3.0

## <a name="features"></a>特徴
* ssoSilent API を追加しました (#1166)

## <a name="enhancements"></a>機能強化
* ライブラリの状態を、guid とタイムスタンプを含むエンコードされた文字列に変換するようにしました。 (#1395)
* `handleRedirectCallback` の動作を修正しました。これは必須ではなくなりました。 (#1358)
* `domain_hint` はサイレント呼び出しや `sid` または `login_hint` が渡された場合にサポートされなくなりました。 (#1299)
* 権限とスコープを反映するためにフレーム名を更新しました (#1267)
* msal.js と msal.min.js のファイルベースのソース マップに切り替えました (#1525)
* より適切なツリーシェイクを有効にするために sideEffects を false に設定しました (#1526)
* パブリック API に TelemetryManager を追加しました (#1399)

## <a name="bugs"></a>バグ
* リダイレクト要求からの応答が常に処理されるようにしました。 (#1413)
* 状態が処理される前に確実にデコードされるようにしました。 (#1456)
* B2C 機関の修正。 (#1276)
* populateQueryParams で要求が null であるかどうかを確認するようにしました (#1531)
* acquireToken 呼び出しのトークン キャッシュを修正しました (#1516)
* IE11 のポップアップ スクロールのブロックを解除しました (#1426)

# <a name="122"></a>1.2.2

## <a name="features"></a>特徴
* `setLogger` 関数を `UserAgentApplication` に追加しました。 (#1251)

## <a name="enhancements"></a>機能強化
* `navigateFrameWait` が `0` に設定されている場合、非表示の iframe を同期的にレンダリングするようにしました。 (#1278)
* `AuthenticationParameters` に `redirectStartPage` プロパティを追加し、アプリがどのページでリダイレクトをトリガーしたかを示すことができるようにしました。 (#1343)

## <a name="bugs"></a>バグ
* 一時的なキャッシュ エントリを適切に削除するようにしました。 (#1339)
* 応答に accessToken とスコープが含まれる場合は常に返送するようにしました。 (#1351)
* iframe がアプリのドメインに戻らない場合、サイレント操作が確実にタイムアウトするようにしました。 (#1354)
* 非表示の iframe が適切に削除されるようにしました。 (#1415)

## <a name="logging--telemetry"></a>ログとテレメトリ
* `acquireTokenSilent` のテレメトリを追加しました。 (#1388)

# <a name="121"></a>1.2.1

## <a name="bugs"></a>バグ
* `urlContainsHash()` をパブリック API として復元しました (#1202)
* 特定の B2C シナリオをサポートするために、`msal js` によって作成された iframe のサンドボックス プロパティに `allow-forms` を追加しました (#1191)

## <a name="enhancements"></a>機能強化
* `redirect` のユース ケースから `isAngular` のフラグを削除しました (#1193)

# <a name="120"></a>1.2.0

## <a name="features"></a>機能:
* iframes のサポートを追加しました (#939、#975、#1053、#1075)。msal js は iframe に埋め込まれたアプリケーションで認証をサポートするようになりました。つまり、アプリケーションは iframe から `loginSilent()`、`acquireTokenSilent()`、`acquireTokenPopup()` を呼び出せるようになりました。
* `redirectUri` を要求パラメーターとしてサポートするようになりました (#1116)。この機能と iframe のサポートの組み合わせにより、リダイレクト時に SPA の完全リロードを回避する機能をアプリケーションで実現することで、パフォーマンスが向上します。 使用方法の詳細については、リリース [ノート](https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL-JS-1.2.0)の[サンプル](https://github.com/AzureAD/microsoft-authentication-library-for-js/blob/dev/samples/VanillaJSTestApp/index_blankPageRedirectUri.html)を参照してください
* 複数のインスタンス (#980、#1010)
* キャッシュの変更 - iframe、複数インスタンス、その他の機能強化をサポートしました (#983、#1042、#1067)
* 要求に対するキャッシュとネットワークの応答を示す fromCache フラグを応答に追加しました (#1114)
* インスタンス対応のサポート (#969)

## <a name="bugs"></a>バグ
* `request.correlationId` がサービスに渡されるようになりました (#1083)
* すべてのユース ケースに対して、response_mode を明示的にフラグメントに設定するようにしました (#1090)
* 詳細なメッセージとタイムアウト エラーの監視 (#1098、#1113)
* ハンドル `loginRedirect` を null に設定しました (#1047)
* 日本語のデコードを修正しました (#1036、#1054)
* 統合キャッシュ、リダイレクト、B2C のサンプルを修正しました (#933、#959、#1027、#973)
* リダイレクト API で履歴をサポートするために `location.replace` を `location.assign` に変更しました (#1002)

## <a name="dev-tools"></a>開発ツール
* リンティングを追加しました (#931、#935、#947)
* CI/CD パイプライン (#924)
* UT から karma を削除し、mocha/chai に完全に移行しました (#956)
* コード カバレッジを追加し、カバーオールを導入しました (#972、#1105)
* unix 環境での単体テストを修正しました (#977)
* サンプルを最上位レベルに移動しました (#987)
* CDN ファイルに SRI タグを追加しました (#1020、#1024、#1030)

## <a name="documentation"></a>ドキュメント
* ルートの readme ファイルを簡略化しました (#1004)
* 生成されたドキュメント ファイルをリポジトリから削除し、GitHub Pages にデプロイしました (#1131)

# <a name="113"></a>1.1.3
* Azure Pipelines の導入 (#912)
* ES6 モジュールと互換性のない uuid ライブラリの削除 (#878)
* lerna の依存関係を更新し、安全なバージョンの lodash に解決するようにしました (#910)
* リファクタリング (#886)

# <a name="112"></a>1.1.2
* ドキュメントとサンプルの細かい修正 (#859、#857、#757)
* スコープ オブジェクトが変更されていた問題を修正しました (#875)
* id トークンの更新時にトークンの種類が正しく設定されない問題を修正しました (#873)
* リファクタリング (#805、#806)

# <a name="111"></a>1.1.1
* cacheLocation が文字列値を受け入れなくなる問題を修正しました (#862)

# <a name="110"></a>1.1.0
* Core
    * AuthResponse と Account の API サーフェスに idTokenClaims を追加しました (#804)
    * 要求オブジェクトに forceRefresh パラメーターを追加し、acquireTokenSilent にキャッシュからのトークン フェッチを強制するようにしました (#823)
    * テレメトリのスキャフォールディングを追加しました (#737、#802、#840)
        * 完全なテレメトリ機能は、今後のリリースで使用可能になる予定です
    * サーバーが null の errorDesc を送信するときに、エラー応答の処理に問題が生じていた問題を修正しました (#811)
        * ユーザーが同意しないことを選んだ場合や、マルチアカウント選択時にクリックして戻った場合に、MSAL.js から ServerError をスローするようになりました
    * Configuration.ts のコメントを更新し、正しいパラメーターを表示するようにしました (#780)
    * 型の拡大を防ぐために CacheLocation を enum に変更しました (#851)
    * extraQueryParameters から sid と login_hint を削除するときに、MSAL.js からログ メッセージを送信するようにしました (#781)
    * README と issue テンプレートの形式とドキュメントを改善しました (#789、#793、#795)
    * expiresIn が正しく計算されないバグを修正しました (#799)
    * React サンプルで、リダイレクト ログインに失敗した場合にエラーが表示されない問題を修正しました。 (#820)
    * `npm audit` のセキュリティ警告を修正しました (#828)
    * ドメインが正しく機能しなくなったので、`cloud.microsoft.com` への参照を更新しました (#830)
    * null または空の要求オブジェクトを指定すると、AcquireToken API から空の要求エラーをスローされます (#831)
    * リンティングの構成を tslint から eslint に切り替えました (#849)
    * ES モジュールと互換性がないので base64-js パッケージへの依存関係を削除し、使用されていないエンコード関数を削除しました (#826)
    * リファクタリング (#792)

* その他の更新
    * Angular と Angular-JS のサンプルに関する問題を修正しました (#813)

# <a name="102"></a>1.0.2
* エラー メッセージとモジュールのドキュメントのリンク切れを修正しました (#731)
* README の入力ミスを修正しました (#743、#749)
* lerna バージョンを更新しました (#748)
* Interaction_Required を修正し、すべての interaction_required エラーの種類でスローするようにしました (#753)
* react のサンプルを追加しました (#727)
* 非同期の acquireTokenSilent 呼び出しを防ぐバグを修正しました (#768)

# <a name="101"></a>1.0.1
* navigateToLoginRequestURL = false によってコールバックが発生しないバグを修正しました (#696)
* 要求オブジェクトが null の場合、状態パラメーターに null ポインターの例外が発生するバグを修正しました (#698)
* ログアウト時に msal 関連のキャッシュ項目をすべて削除するようにしました (#709)
* acquireTokenPopup で "user cancelled" (ユーザーが取り消しました) エラーがスローされないバグを修正しました (#707)
* ログアウト エンドポイントは、oauth 検出エンドポイントの応答で指定された EndSessionEndpoint を使うようになりました (#716)
* window.atob ではなく base64.js を使うようになりました (#712)
* sid が既に設定されている場合に login_hint が追加されるバグを修正しました。 (#700)

# <a name="100"></a>1.0.0
* msal-1.0.0-preview.x のすべての変更を含む msal-1.0.0 の正式リリース。
* API の破壊的変更が含まれています - 詳細については @ https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL.js-1.0.0-preview-api-release を参照してください

# <a name="100-preview5"></a>1.0.0-preview.5
* エラーの最初のコールバック PR #658
* クレーム要求のサポート PR #664
* パブリック関数としての loginInProgress() #671
* 'state' を config から request に移動し、GUID を削除して渡された場合にユーザーの状態を返すようにしました #674 #679 #681
* すべての値のキャッシュ クリーンアップ (キーのクリーンアップは次のリリースで行われる予定です) #675
* サイレント呼び出しの iFrame の読み込みタイムアウトを構成可能にしました ('navigateFrameWait') #676
* readme を最新のコード パターンで更新しました #672

# <a name="100-preview4"></a>1.0.0-preview.4
dist を有効なビルド成果物として npm パッケージに改めて追加しました

# <a name="100-preview3"></a>1.0.0-preview.3
パッケージ .json にフックを追加し、npm publish の前に msal js をビルドしてライブラリを最新の状態にするようにしました

# <a name="100-preview2"></a>1.0.0-preview.2
## <a name="bug-fixes"></a>バグの修正

* キャッシュに Canonalized でない権限が格納されているために見られる multiple_authorities の問題を修正しました PR #656
* getCachedToken 応答オブジェクトのスコープをキャッシュから取得するようにしました PR #657。
* ES6 モジュールを npm に改めて追加しました #654

# <a name="100-preview1"></a>1.0.0-preview.1
## <a name="bug-fixes"></a>バグの修正

* typescript 以外の環境について依存関係を修正しました

# <a name="100-preview0"></a>1.0.0-preview.0
## <a name="new-features-breaking-changes"></a>新機能 (破壊的変更)

先日 @ https://github.com/AzureAD/microsoft-authentication-library-for-js/wiki/MSAL.js-1.0.0-preview-changes でお知らせしたように、プレビュー リリースを発表することになりました。

### <a name="release-notes"></a>リリース ノート:

#### <a name="configuration"></a>構成
* MSAL JS ライブラリの初期化 - UserAgentApplication() クラスのコンストラクターを介して送信できる 'Configuration' オブジェクトを導入しました。

##### <a name="configuration-datatype-"></a>構成のデータ型:

```javascript
    // make CacheStorage a fixed type to limit it to specific inputs
    type storage = "localStorage" | "sessionStorage";

    // Protocol Support
    export type AuthOptions = {
        clientId: string;
        authority?: string;
        validateAuthority?: boolean;
        redirectUri?: string | (() => string);
        postLogoutRedirectUri?: string | (() => string);
        state?: string;
        navigateToLoginRequestUrl?: boolean;
    };

    // Cache Support
    export type CacheOptions = {
        cacheLocation?: CacheLocation;
        storeAuthStateInCookie?: boolean;
    };

    // Library support
    export type SystemOptions = {
        logger?: Logger;
        loadFrameTimeout?: number;
        tokenRenewalOffsetSeconds?: number;
    };

    // Developer App Environment Support
    export type FrameworkOptions = {
        isAngular?: boolean;
        unprotectedResources?: Array<string>;
        protectedResourceMap?: Map<string, Array<string>>;
    };

    // Configuration Object
    export type Configuration = {
        auth: AuthOptions,
        cache?: CacheOptions,
        system?: SystemOptions,
        framework?: FrameworkOptions
    };
```

##### <a name="example-config-object"></a>構成オブジェクトの例:

```javascript
    var config = {
        auth: {
            clientId: applicationConfig.clientID,
            authority: applicationConfig.authority,
            validateAuthority: true
        },
        cache: {
            cacheLocation: "localStorage",
            storeAuthStateInCookie: true
        },
        system: {
            logger: devLogger
        }
    };
 ```

##### <a name="before--024"></a>以前 (<= 0.2.4)

```javascript
    // initialize the MSAL JS configuration options
    var myMSALObj = new Msal.UserAgentApplication(
        applicationConfig.clientID,
        applicationConfig.authority,
        acquireTokenRedirectCallBack,
        {storeAuthStateInCookie: true, cacheLocation: "localStorage"}
    );
```
##### <a name="after--100-preview0"></a>今後 (>= 1.0.0-preview.0)

```javascript
    // initialize the configuration object
    var config = {
        auth: {
            clientId: applicationConfig.clientID,
            authority: applicationConfig.authority,
            validateAuthority: true
        },
        cache: {
            cacheLocation: "localStorage",
            storeAuthStateInCookie: true
        }
    };
     
// initialize the MSAL JS with a configuration object
var myMSALObj = new Msal.UserAgentApplication(config);
 
// register redirect call backs : for Success and Error
myMSALObj.handleRedirectCallbacks(acquireTokenRedirectCallBack, acquireTokenErrorRedirectCallBack);
```

#### <a name="request-object"></a>Request オブジェクト

* 'Request' はすべての login/accessToken 呼び出しに導入されました。これは、以前の login/acquireToken 呼び出しのオーバーロードを置き換えるものです。
* ユーザーは、省略可能なパラメーターを渡して、認証と認可のための要求を微調整することを選択できます。
* 'User' オブジェクトは 'Account' に置き換えられました => パブリック API の getUser() は、さらにデータが拡張された getAccount() になりました。

###### <a name="request-object-datatype"></a>Request オブジェクトのデータ型

```javascript
    export type QPDict = {[key: string]: string};

    // Request type
    export type AuthenticationParameters = {
        scopes?: Array<string>;
        extraScopesToConsent?: Array<string>;
        prompt?: string;
        extraQueryParameters?: QPDict;
        claimsRequest?: null;
        authority?: string;
        correlationId?: string;
        account?: Account;
        sid?: string;
        loginHint?: string;
    };

    // Account Class
    export class Account {

        accountIdentifier: string;
        homeAccountIdentifier: string;
        userName: string;
        name: string;
        idToken: Object;
        sid: string;
        environment: string;

        ....
    }
```
##### <a name="before--024"></a>以前 (<= 0.2.4)

```javascript
    // login request
    loginPopup(applicationConfig.graphScopes);

```

##### <a name="after--100-preview0"></a>今後 (>= 1.0.0-preview.0)

```javascript

    let loginRequest = {
        scopes: applicationConfig.graphScopes
    };

    loginPopup(loginRequest).then(function (loginResponse) {
        //Login Success
    }).catch(function (error) {
        console.log(error);
    });
```

#### <a name="response-object"></a>Response オブジェクト
* サーバーの応答やアプリのエラーに対して、'Response' と 'Error' の各オブジェクトが導入されました
    - 'リダイレクト' のユースケースの場合、成功と失敗のコール バックを 'handleRedirectCallbacks()' に明示的に渡す必要があります。
    - 'ポップアップ' と 'サイレント' のユースケースの場合、プロミス パターン (つまり '.then と .catch') を使用できます。

###### <a name="response-object-datatype"></a>Response オブジェクトのデータ型

```javascript
    export type AuthResponse = {
        uniqueId: string;
        tenantId: string;
        tokenType: string;
        idToken: IdToken;
        accessToken: string;
        scopes: Array<string>;
        expiresOn: Date;
        account: Account;
        accountState: string;
    };
```

###### <a name="error-object-datatype"></a>Error オブジェクトのデータ型
- 注: このリリースでは、Error オブジェクトの分類とメッセージが改善されました。 エラー処理に関する詳細なドキュメントは、近日中に追加される予定です。

```javascript
    export class AuthError extends Error {
        errorCode: string;
        errorMessage: string;
        ...
    }
```

##### <a name="before--024"></a>以前 (<= 0.2.4)
```javascript

    // Login using Popup
    function signIn() {
        myMSALObj.loginPopup(applicationConfig.graphScopes).then(function (idToken) { ... }
    }

    // Request for Access Token
    myMSALObj.acquireTokenSilent(applicationConfig.graphScopes).then(function (accessToken) {
        callMSGraph(applicationConfig.graphEndpoint, accessToken, graphAPICallback);
    }, function (error) {
        console.log(error);
        // Call acquireTokenPopup (popup window) in case of acquireTokenSilent failure due to consent or interaction required ONLY
        if (error.indexOf("consent_required") !== -1 || error.indexOf("interaction_required") !== -1 || error.indexOf("login_required") !== -1) {
            myMSALObj.acquireTokenPopup(applicationConfig.graphScopes).then(function (accessToken) {
                callMSGraph(applicationConfig.graphEndpoint, accessToken, graphAPICallback);
            }, function (error) {
                console.log(error);
            });
        }
    });
```

##### <a name="after--100-preview0"></a>今後 (>= 1.0.0-preview.0)

```javascript
    myMSALObj = new UserAgentApplication(config);

    // Login
    loginPopup(loginRequest).then(function(response) {
        var idToken = response.idToken;
        // etc.
    }).catch(function(error) {
        // Catches any rejects thrown by loginPopup. Also catches errors thrown the above 'then' block
        if (error.ClientConfigurationError) {
            // Error with configuration, please check your parameters.
        } else if (error instanceof ClientAuthError) {
            // authentication could not be completed due to protocol error, browser error or already in progress
        } else if (error instanceof ServerError) {
            // server may be temporarily unavailable, or the request that was sent was invalid or not acceptable. Please check error returned and retry.
        } else {
            // Unexpected error, console.log and report on Github or StackOverflow
        }
    });

    // access token
    acquireTokenPopup(tokenRequest).then(function(response) {
        var idToken = response.idToken;
        var accessToken = response.accessToken;
        // etc.
    }).catch(function(error) {
        // Catches any rejects thrown by loginPopup. Also catches errors thrown the above 'then' block
        if (error.ClientConfigurationError) {
            // Error with configuration, please check your parameters.
        } else if (error instanceof ClientAuthError) {
            // authentication could not be completed due to protocol error, browser error or already in progress
        } else if (error instanceof ServerError) {
            // server may be temporarily unavailable, or the request that was sent was invalid or not acceptable. Please check error returned and retry.
        } else {
            // Unexpected error, console.log and report on Github or StackOverflow
        }
    });
```

これらの変更点については、近日中に詳細なブログ投稿とクイックスタート アプリケーションでフォロー アップする予定です。


# <a name="024"></a>0.2.4
## <a name="new-features"></a>新機能
* 統合キャッシュ - これは、ADAL.js から MSAL.js への移行をサポートするためのものです。 あなたのアプリで現在 ADAL.js を使っており、そこにユーザーの既存セッションが存在する場合、アプリを MSAL.js に移行すると、MSAL.js によってサイレント ログインが実行されます。
* プロンプト - 選択型のアカウントの削除 - 対話式ログインと acquireToken 要求から prompt パラメーターを削除しました。 acquireTokenSilent からは、引き続き prompt=none が渡されます。
* msal-core のエンドツーエンド テスト
* 関数としてのリダイレクト URI のサポート

# <a name="023"></a>0.2.3
## <a name="new-features"></a>新機能
* シングル サインオン
* navigateToLoginRequestUrl=false の場合の IE と Edge の (Cookie が削除されない) バグを修正しました
* IE と Edge の login_popup のバグ (状態の不一致) を修正しました
* navigateToLoginrequestUrl = false の場合、ユーザーの状態がコールバックに渡されませんでした
* シングル サインオンのサンプル アプリを追加しました


# <a name="022"></a>0.2.2
## <a name="new-features"></a>新機能
* 複数のセキュリティ ゾーンにまたがるリダイレクト時に、IE と Edge のブラウザーでセッション ストレージとローカル ストレージがクリアされる問題を処理するサポートを追加しました。 これを有効にするには、構成内の storeAuthStateInCookie フラグを true に設定します。 既定値は false です。
https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/347


# <a name="021"></a>0.2.1
## <a name="new-features"></a>新機能
* ログイン要求に State パラメーターを追加しました。 https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/262

* webpack のバンドル サイズの問題により、istanbul のコード カバレッジを削除しました。

# <a name="020"></a>0.2.0
## <a name="new-features"></a>新機能
npmjs パッケージを @azure/msal に移動しました

# <a name="019"></a>0.1.9
## <a name="new-features"></a>新機能

* acquireTokenRedirect を使って独自の APIS を呼び出すバグを修正しました。 https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/333
* エラー時に一時キャッシュ エントリを削除するバグを修正しました。 https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/327


# <a name="017"></a>0.1.7
## <a name="new-features"></a>新機能

* acquireTokenSilent の resolveAuthority のバグを修正しました。 https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/322
* クリック イベントでアプリが開かれたときの window.opener のバグを修正しました。 https://github.com/AzureAD/microsoft-authentication-library-for-js/pull/318

# <a name="016"></a>0.1.6
## <a name="new-features"></a>新機能

* acquireToken の同時要求のバグを修正しました。 https://github.com/AzureAD/microsoft-authentication-library-for-js/issues/274
* 権限検証のための catchHandler を追加しました
* id_token に特殊文字が含まれる場合のバグを修正しました。

# <a name="015"></a>0.1.5
## <a name="breaking-changes"></a>重大な変更

* Msal の constructor 関数が非同期でなくなりました。 constructor で渡されるコールバック関数で userAgentApplication のインスタンスを使うには、コールバック関数のスコープで "this" を使います。 以下を参照してください。
```
 var userAgentApplication = new Msal.UserAgentApplication(applicationConfig.clientID, null, authCallback);
        function authCallback(errorDesc, token, error, tokenType) {
                   console.log(userAgentApplication) //this will print undefined, use this instead
                   var self  = this// self is instance of userAgentApplication
           }
```

## <a name="new-features"></a>新機能

* 既定では、msal は認証に成功すると、loginStartPage に戻ろうとします。 この設定を無効にするには、constructor の options オブジェクトで navigateToLoginRequestUrl:false を渡します。 この場合、msal は単に URL ハッシュを null に設定し、指定されたコールバックを呼び出すので、追加のリロードを回避できます。 次のスニペットを参照してください。
```
 var userAgentApplication = new Msal.UserAgentApplication(applicationConfig.clientID, null, authCallback, { navigateToLoginRequestUrl:false });
```
* idToken オブジェクトは msal ユーザー オブジェクトのプロパティとして追加されました。これはクレームのクエリに使用できます。また、User クラス自体もグローバル名前空間の下にエクスポートされます。
* userAgentApplication コントラクターに渡される options オブジェクトの値に設定することで、loadFrameTimout (msec) を構成できるようになりました。 既定のタイムアウトは 6000 msec です。 次のスニペットを参照して変更してください。
```
 var userAgentApplication = new Msal.UserAgentApplication(applicationConfig.clientID, null, authCallback, { loadFrameTimout:10000 });
```

# <a name="014-beta"></a>0.1.4-beta

## <a name="bug-fixes"></a>バグの修正

* テスト バージョン

# <a name="013"></a>0.1.3

## <a name="bug-fixes"></a>バグの修正

* msal を es-5 または es-6 モジュールとしてインポートする機能を追加しました
* webpack で、window オブジェクトにエクスポートされるグローバル変数 Msal を使う umd バンドルを作成するようにしました。
* ブラウザーの更新に関連するバグを修正しました。
* acquireToken 要求の前に、使用可能であればキャッシュからユーザー オブジェクトを設定するようにしました。
* コンストラクター関数にロガーを渡すことで、ログを有効にします。

# <a name="012"></a>0.1.2
## <a name="bug-fixes"></a>バグの修正
* id_token の更新に関するバグを修正しました。
* 複数の非同期 acquireToken 要求のサポートを追加しました。
* ポップアップ ウィンドウに "user_cancelled" イベントを追加しました。

# <a name="011"></a>0.1.1
## <a name="bug-fixes"></a>バグの修正
* ブラウザー固有の問題を修正しました。

# <a name="010"></a>0.1.0
プレビュー リリース
