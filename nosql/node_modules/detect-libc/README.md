---
ms.openlocfilehash: 62ec6880a3e3b2a52d60ca46578b47a88379c266
ms.sourcegitcommit: e739004291428ce83f14b9d49f1e9dfaa3762dde
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 02/05/2022
ms.locfileid: "138052232"
---
# <a name="detect-libc"></a>detect-libc

特定の Linux システムで使用されている C 標準ライブラリ (libc) の実装ファミリとバージョンを検出するための Node.js モジュール。

[prebuild](https://www.npmjs.com/package/prebuild)、[prebuild-ci](https://www.npmjs.com/package/prebuild-ci)、[prebuild-install](https://www.npmjs.com/package/prebuild-install) の `LIBC` オプションで使用するのに適した値を提供し、それによって musl ベースの Linux (Alpine など) および glibc ベースの Linux の事前コンパイル済みバイナリのビルドとプロビジョニングが可能になります。

現在、`glibc` と `musl` の libc の検出をサポートしています。

## <a name="install"></a>[インストール]

```sh
npm install detect-libc
```

## <a name="usage"></a>使用

### <a name="api"></a>API

```js
const { GLIBC, MUSL, family, version, isNonGlibcLinux } = require('detect-libc');
```

* `GLIBC` は、`family` との比較用の値 "glibc" を含む String です。
* `MUSL` は、`family` との比較用の値 "musl" を含む String です。
* `family` は、システムの libc のファミリを表す String です。
* `version` は、システムの libc のバージョン番号を表す String です。
* `isNonGlibcLinux` は、システムが非 glibc の Linux (Alpine など) であるかどうかを表す Boolean 値です。

### <a name="detect-libc-command-line-tool"></a>detect-libc コマンド ライン ツール

glibc 以外の libc を使用している Linux システムで実行すると、子コマンドは関連する値に設定された `LIBC` 環境変数を使用して実行されます。

他のすべてのプラットフォームでは、子コマンドはそのまま実行されます。

コマンド ライン機能には、Node v0.12 以降で提供される `spawnSync` が必要です。

```sh
detect-libc child-command
```

## <a name="integrating-with-prebuild"></a>prebuild との統合

```json
  "scripts": {
    "install": "detect-libc prebuild-install || node-gyp rebuild",
    "test": "mocha && detect-libc prebuild-ci"
  },
  "dependencies": {
    "detect-libc": "^1.0.2",
    "prebuild-install": "^2.2.0"
  },
  "devDependencies": {
    "prebuild": "^6.2.1",
    "prebuild-ci": "^2.2.3"
  }
```

## <a name="licence"></a>ライセンス

Copyright 2017 Lovell Fuller

Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License.
You may obtain a copy of the License at [http://www.apache.org/licenses/LICENSE-2.0](http://www.apache.org/licenses/LICENSE-2.0.html)

Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and limitations under the License.
